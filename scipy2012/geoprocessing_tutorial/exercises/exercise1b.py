""" Create vector polygon data from Python/numpy structures
"""

import numpy
from source.vector import Vector

# Define one polygon
polygons = [
    [[117.0689671410519,-20.43131095982087],
     [117.0705548870077,-20.42999562277121],
     [117.0722388577256,-20.4306074733746],
     [117.0751348588968,-20.42990097252671],
     [117.0759767396411,-20.43068612954713],
     [117.0785004294643,-20.43041769564854],
     [117.0792473634854,-20.42962860039898],
     [117.0812121999179,-20.43041552476608],
     [117.0824297911554,-20.43181686861295],
     [117.0792555125218,-20.43393397614701],
     [117.0799146725669,-20.43743349810626],
     [117.083660321111,-20.44233134860012],
     [117.0849760850058,-20.4468832501049],
     [117.0848885950855,-20.4504743512323],
     [117.0831209037571,-20.45573291664875],
     [117.0806021792153,-20.459417396664],
     [117.0795750073019,-20.46029406599117],
     [117.0788279650134,-20.46073119752647],
     [117.0756557009451,-20.46696491000187],
     [117.0710550574553,-20.45364803276278],
     [117.0713311484624,-20.45014280690981],
     [117.0746857464939,-20.44216621893403],
     [117.0748634284422,-20.43620814057268],
     [117.0730804369767,-20.43165505360306]]]

# One set of attributes per polygon
attributes = [{'Name': 'Delambre Island',
               'Country': 'Australia',
               'Comment': 'Bird shaped island'}]

# Convert into a vector layer
filename = 'polygons_of_interest.kml'
V = Vector(geometry=polygons, data=attributes)
V.write_to_file(filename)

print 'Wrote polygon data to file.'
print 'To view and analyse:'
print 'qgis %s' % filename[:-4] + '.shp'


